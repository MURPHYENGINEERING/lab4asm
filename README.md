# lab4asm
Assembly language for an FPGA-based processor built for Lab 4 in EEE333

Usage:

  `python3 lab4asm.py [input_file] [output_file]`
  
  or the C version
  
  ```
  cmake --build build/ --target all
  build/lab4asm [input_file] [output_file]
  ```

If you don't specify `output_file` then it will use the name of the input file and add the extension `.mif`. If you don't specify filenames then it will use `lab4.asm` and output to `lab4.mif`.

Example program (`lab4.asm`):
```
  ; Demonstrated here:
  ; - comments
  ; - case insensitivity
  ; - binary, hex, and decimal literals
  ; - named registers
  ; - jump to labels

  ldi 0b1 a     ; counter in register A
  LDI 0x2 B     ; limit in register B

LOOP:
  CMPJ B A 2    ; continue looping while B >= A
  JMP end       ; escape loop if CMPJ failed
  INC A A       ; increment A
  JMP loop

end:
  HALT
```

Resulting Memory Initialization File (`lab4.mif`):
```
-- Intel Memory Initialization File

-- Generated by Lab4ASM by Matthew Murphy
-- for EEE 333 with Seth Abraham

WIDTH=16;
DEPTH=256;

ADDRESS_RADIX=UNS;
DATA_RADIX=BIN;

CONTENT BEGIN
  0 : 0001000000010000;
  1 : 0001000000110001;
  2 : 1110000100000010;
  3 : 1101000001100000;
  4 : 0111000000000000;
  5 : 1101000000100000;
  6 : 0000000000000000;
  [7..255] : 0000000000000000;
END;
```
